<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LabCore Tech | Evaluación</title>
  <link rel="stylesheet" href="src/css/styles.css" />
</head>

<body>
  <main class="wrap">

    <!-- TOPBAR PRO -->
    <header class="topbar">
      <div class="topbar-inner">
        <div class="brandline">
          <div class="logo-badge" aria-hidden="true">
            <img src="src/img/LabCore.webp" alt="LabCore Logo" class="brand-logo">
          </div>

          <div class="brandcopy">
            <img src="src/img/LabCoretxt.webp" alt="LabCore Tech" class="brand-text">
            <div class="brand-subtitle">Evaluación de ingreso</div>
          </div>
        </div>
      </div>
    </header>

    <!-- CARD FORM -->
    <section class="card">
      <div class="card-head">
        <h1>Datos del postulante</h1>
        <p class="muted">Completa los campos y adjunta la hoja de vida antes de iniciar.</p>
      </div>

      <form id="candidateForm" class="formgrid" autocomplete="on" novalidate>
        <div class="field">
          <label for="firstName">Nombre</label>
          <input id="firstName" name="firstName" type="text" placeholder="Escribe tu nombre" required autocomplete="given-name" />
        </div>

        <div class="field">
          <label for="lastName">Apellido</label>
          <input id="lastName" name="lastName" type="text" placeholder="Escribe tu apellido" required autocomplete="family-name" />
        </div>

        <div class="field">
          <label for="cedula">Cédula</label>
          <input id="cedula" name="cedula" type="text" inputmode="numeric" placeholder="Solo números" required autocomplete="off" />
        </div>

        <div class="field">
          <label for="university">Universidad</label>
          <input id="university" name="university" type="text" placeholder="Escribe tu universidad" required autocomplete="organization" />
        </div>

        <div class="field">
          <label for="career">Carrera</label>
          <select id="career" name="career" required>
            <option value="" selected disabled>Selecciona tu carrera...</option>
            <option>Ingeniería de Sistemas</option>
            <option>Tecnología en Sistemas</option>
            <option>Desarrollo de Software</option>
            <option>Ingeniería de Software</option>
            <option value="OTRA">Otra</option>
          </select>
          <div id="careerOtherWrap" class="field-inline hidden">
            <input id="careerOther" type="text" placeholder="Ingrese su carrera (ej: Ingeniería Informática)" autocomplete="off" />
          </div>
        </div>

        <div class="field">
          <label for="semester">Semestre</label>
          <select id="semester" name="semester" required>
            <option value="" selected disabled>Selecciona tu semestre...</option>
            <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            <option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
            <option value="OTRO">Otro</option>
          </select>
          <div id="semesterOtherWrap" class="field-inline hidden">
            <input id="semesterOther" type="text" inputmode="numeric" placeholder="¿Qué semestre cursa? (solo números)" autocomplete="off" />
          </div>
        </div>

        <!-- Cargo a aspirar -->
        <div class="field field-wide">
          <label for="role">Cargo a aspirar</label>
          <select id="role" name="role" required>
            <option value="" selected disabled>Selecciona el cargo...</option>
            <option value="Auxiliar de desarrollo">Auxiliar de desarrollo</option>
            <option value="Desarrollador">Desarrollador</option>
          </select>
        </div>

        <!-- Hoja de vida y Política juntos -->
        <div class="field-wide cv-policy-container">
          <div class="cv-upload-wrapper">
            <label for="cvFile">Hoja de vida (PDF / DOC / DOCX)</label>
            <input id="cvFile" name="cvFile" type="file" accept=".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document" required />
            <small class="hint">Máximo recomendado: 8 MB</small>
          </div>
          
          <!-- Política al lado del CV -->
          <div class="policy-row">
            <label class="checkline">
              <input id="acceptPolicy" type="checkbox" />
              <span>
                Acepto la
                <a href="politica-datos.html" target="_blank" rel="noopener">Política de tratamiento de datos</a>.
              </span>
            </label>
          </div>
        </div>

        <div class="actions">
          <button id="btnStart" type="button" class="btn primary">
            Iniciar evaluación
          </button>
        </div>

        <!-- Mensaje de error -->
        <div id="errorMsg" class="error-message hidden" role="alert"></div>

        <!-- Mensajes informativos -->
        <div id="uiMsg" class="ui-msg hidden" role="status" aria-live="polite"></div>
      </form>
    </section>

    <!-- CARD QUESTIONS -->
    <section id="examCard" class="card hidden">
      <div class="card-head card-head-split">
        <div>
          <h2>Preguntas</h2>
          <p class="muted">Responde con claridad. No cierres la página durante la sesión.</p>
        </div>

        <div class="timerBox" aria-label="Tiempo restante">
          <div class="timerLabel">Tiempo restante</div>
          <div id="timer" class="timerValue">10:00</div>
        </div>
      </div>

      <div class="questionBox">
        <div id="qText" class="qText">Cargando…</div>
        <textarea id="qAnswer" class="answerBox" placeholder="Escribe tu respuesta aquí..." rows="10"></textarea>

        <div class="actions">
          <button id="btnNext" type="button" class="btn primary">Continuar</button>
        </div>
      </div>
    </section>

    <!-- MODAL: info inicio -->
    <div id="modalInfo" class="modal hidden" aria-hidden="true">
      <div class="modal-backdrop"></div>
      <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalInfoTitle">
        <button class="modal-x" type="button" id="modalInfoClose" aria-label="Cerrar">×</button>
        <h3 id="modalInfoTitle">Información antes de iniciar</h3>

        <p class="modal-text">
          Esta evaluación de ingreso tiene una duración máxima de <b>10 min</b>.
          Se recomienda disponer de este tiempo completo para responder con calma y sin interrupciones.
        </p>

        <ul class="modal-list">
          <li>Durante la sesión, evita recargar la página o cerrar la ventana.</li>
          <li>Si la sesión se interrumpe, la evaluación no podrá iniciarse nuevamente para este usuario.</li>
          <li>Todas las actividades están siendo monitoreadas.</li>
        </ul>

        <div class="modal-actions">
          <button class="btn" type="button" id="btnCancelStart">Cancelar</button>
          <button class="btn primary" type="button" id="btnAcceptStart">Acepto, continuar</button>
        </div>
      </div>
    </div>

    <!-- MODAL: final -->
    <div id="modalDone" class="modal hidden" aria-hidden="true">
      <div class="modal-backdrop"></div>
      <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalDoneTitle">
        <button class="modal-x" type="button" id="modalDoneClose" aria-label="Cerrar">×</button>
        <h3 id="modalDoneTitle">Evaluación finalizada</h3>
        <p class="modal-text">
          ✅ Tus respuestas han sido enviadas satisfactoriamente al área encargada de LabCore Tech.<br>
        </p>
        <div class="modal-actions">
          <button class="btn primary" type="button" id="btnDoneOk">Continuar</button>
        </div>
      </div>
    </div>

  </main>

  <script defer src="src/js/app.js"></script>
</body>
</html>